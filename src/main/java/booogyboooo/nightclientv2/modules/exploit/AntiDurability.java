package booogyboooo.nightclientv2.modules.exploit;

import booogyboooo.nightclientv2.event.Event;
import booogyboooo.nightclientv2.event.module.ModuleEvents;
import booogyboooo.nightclientv2.module.Module;
import booogyboooo.nightclientv2.module.ModuleType;
import booogyboooo.nightclientv2.util.DelayUtil;
import booogyboooo.nightclientv2.util.Key;
import net.minecraft.entity.player.PlayerInventory;

public class AntiDurability extends Module implements ModuleEvents {

    private int originalSlot = -1;
	
	public AntiDurability() {
		super(ModuleType.Type.Exploits, "AntiDurability", "Default", Key.NONE.key());
		this.addMode("Default");
	}
	
	public void onLeftClick(Event event) {
        if (mc.player == null || mc.player.getInventory() == null || !this.isToggled()) {
            return;
        }

        PlayerInventory inventory = mc.player.getInventory();
        
        for (int i = 0; i < 9; i++) {
            if (inventory.getStack(i).isEmpty()) {
                originalSlot = inventory.selectedSlot;
                inventory.selectedSlot = i;
                i = 9;
            }
        }
        
        DelayUtil.timeout(() -> {
        	if (originalSlot != -1) {
        		inventory.selectedSlot = originalSlot;
        		originalSlot = -1;
        	}
        }, 51);
	}

}